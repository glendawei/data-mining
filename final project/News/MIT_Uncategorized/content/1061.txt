Computational system streamlines the design of fluidic devices 
 Combustion engines, propellors, and hydraulic pumps are examples of fluidic devices — instruments that utilize fluids to perform certain functions, such as generating power or transporting water.  Because fluidic devices are so complex, they are typically developed by experienced engineers who manually design, prototype, and test each apparatus through an iterative process that is expensive, time consuming, and labor-intensive. But with a new system, user only need to specify the locations and speeds at which fluid enters and exits the device — the computational pipeline then automatically generates an optimal design that achieves those objectives.  The system could make it faster and cheaper to design fluidic devices for all sorts of applications, such as microfluidic labs-on-a-chip that can diagnose disease from a few drops of blood or artificial hearts that could save the lives of transplant patients.  Recently, computational tools have been developed to simplify the manual design process, but these techniques have had limitations. Some required a designer to specify the device’s shape in advance, while others represented shapes using 3D cubes, known as voxels, that result in boxy, ineffective designs.  The computational technique developed by researchers from MIT and elsewhere overcomes these pitfalls. Their design optimization framework doesn’t require a user to make assumptions about what a device should look like. And, the device’s shape automatically evolves during the optimization with smooth, rather than blocky, inexact boundaries. This enables their system to create more complex shapes than other methods.  “Now you can do all these steps seamlessly in a computational pipeline. And with our system, you could potentially create better devices because you can explore new designs that have never been investigated using manual methods. Maybe there are some shapes that haven’t been explored by experts yet,” says Yifei Li, an electrical engineering and computer science graduate student who is lead author of a paper detailing this system.   Co-authors include Tao Du, a former postdoc in the Computer Science and Artificial Intelligence Laboratory (CSAIL) who is now an assistant professor at Tsinghua University; and senior author Wojciech Matusik, professor of electrical engineering and computer science, who leads the Computational Design and Fabrication Group within CSAIL; as well as others at the University of Wisconsin at Madison, LightSpeed Studios, and Dartmouth College. The research will be presented at ACM SIGGRAPH Asia 2022.  Shaping a fluidic device  The researchers’ optimization pipeline begins with a blank, three-dimensional region that has been divided into a grid of tiny cubes. Each of these 3D cubes, or voxels, can be used to form part of the shape of a fluidic device.  One thing that separates their system from other optimization methods is how it represents, or “parameterizes,” these tiny voxels. The voxels are parameterized as anisotropic materials, which are materials that give different responses depending on the direction in which force is applied to them. For instance, wood is much weaker to forces that are applied perpendicular to the grain.  They use this anisotropic material model to parameterize voxels as entirely solid (like one would find on the outside of the device), entirely liquid (the fluid within the device), and voxels that exist at the solid-fluid interface, which have properties of both solid and liquid material.  “When you are going in the solid direction, you want to model the material properties of solids. But when you are going in the fluid direction, you want to model the behavior of fluids. This is what inspired us to use anisotropic materials to represent the solid-fluid interface. And it allows us to model the behavior of this region very accurately,” Li explains.  Their computational pipeline also thinks about voxels differently. Instead of only using voxels as 3D building blocks, the system can angle the surface of each voxel and change its shape in very precise ways. Voxels can then be formed into smooth curves that enable intricate designs.  Once their system has formed a shape using voxels, it simulates how fluid flows through that design and compares it to the user-defined objectives. Then it adjusts the design to better meet the objectives, repeating this pattern until it finds the optimal shape.  With this design in hand, the user could utilize 3D printing technology to manufacture the device.  Demonstrating designs  Once the researchers created this design pipeline, they tested it against state-of-the-art methods known as parametric optimization frameworks. These frameworks require designers to specify in advance what they think the device’s shape should be.  “Once you make that assumption, all you are going to get are variations of the shape within a shape family,” Li says. “But our framework doesn’t need you to make assumptions like that because we have such a high design degrees-of-freedom by representing this domain with many, tiny voxels, each of which can vary its shape.”  In each test, their framework outperformed the baselines by creating smooth shapes with intricate structures that would likely have been too complex for an expert to specify in advance. For example, it automatically created a tree-shaped fluidic diffuser that transports liquid from one large inlet into 16 smaller outlets while bypassing an obstacle in the middle of the device.  The pipeline also generated a propeller-shaped device to create a twisting flow of liquid. To achieve this complex shape, their system automatically optimized nearly 4 million variables.  “I was really pleased to see that our pipeline was able to automatically grow a propellor-shaped device for this fluid twister. That shape would drive a high-performing device. If you are modeling that objective with a parametric shape framework, because it cannot grow such an intricate shape, the final device would not perform as well,” she says.  While she was impressed by the variety of shapes it could automatically generate, Li plans to enhance the system by utilizing a more complex fluid simulation model. This would enable the pipeline to be used in more complex flow environments, which would allow it to be used in more complicated applications.  “This work contributes to the important problem of automating and optimizing the design of fluidic devices, which are found almost everywhere,” says Karl Willis, a senior research manager at Autodesk Research, who was not involved with this study. “It takes us a step closer to generative design tools that can both reduce the number of human design cycles needed and generate novel designs that are optimized and more efficient.”  This research was supported, in part, by the National Science Foundation and the Defense Advanced Research Projects Agency. 